(this["webpackJsonpmentor-starter"]=this["webpackJsonpmentor-starter"]||[]).push([[0],{151:function(e,t,s){},153:function(e,t,s){},38:function(e){e.exports=JSON.parse('{"api":{"invokeUrl":"http://localhost:5000"},"cognito":{"REGION":"us-east-1","USER_POOL_ID":"us-east-1_ywlpGmXVA","APP_CLIENT_ID":"6ml2fa999vmaqduce9roiom6s0"}}')},384:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s(3),n=s(139),c=s.n(n),i=(s(150),s(151),s(4)),o=s(8),l=s.n(o),d=s(14),u=s(10),j=s(11),h=s(13),p=s(12),m=s(388),b=s(389),O=s(390),f=(s(153),s(18)),x=s.n(f),v=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).handleLogOut=function(){var t=Object(d.a)(l.a.mark((function t(s){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.preventDefault();try{f.Auth.signOut(),e.props.auth.setAuthStatus(!1),e.props.auth.setUser(null)}catch(a){console.log(a.message)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:[Object(a.jsx)("div",{className:"navbar-brand",children:Object(a.jsx)("a",{className:"navbar-item",href:"/",children:Object(a.jsx)("img",{src:"aws.png",width:"112",height:"28",alt:"aws logo"})})}),Object(a.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu",children:[Object(a.jsxs)("div",{className:"navbar-start",children:[Object(a.jsx)("a",{href:"/",className:"navbar-item",children:"Home"}),Object(a.jsx)("a",{href:"/products",className:"navbar-item",children:"Products"}),Object(a.jsx)("a",{href:"/admin",className:"navbar-item",children:"Admin"})]}),Object(a.jsx)("div",{className:"navbar-end",children:Object(a.jsxs)("div",{className:"navbar-item",children:[this.props.auth.isAuthenticated&&this.props.auth.user&&Object(a.jsxs)("p",{children:["Hello ",this.props.auth.user.username]}),Object(a.jsxs)("div",{className:"buttons",children:[!this.props.auth.isAuthenticated&&Object(a.jsxs)("div",{children:[Object(a.jsx)("a",{href:"/register",className:"button is-primary",children:Object(a.jsx)("strong",{children:"Register"})}),Object(a.jsx)("a",{href:"/login",className:"button is-light",children:"Log in"})]}),this.props.auth.isAuthenticated&&Object(a.jsx)("a",{href:"/",onClick:this.handleLogOut,className:"button is-light",children:"Log out"})]})]})})]})]})}}]),s}(r.Component);function g(){return Object(a.jsx)("section",{className:"hero is-primary",children:Object(a.jsx)("div",{className:"hero-body",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("img",{src:"energy.jpg",alt:"conserve energy"})})})})}function w(){return Object(a.jsx)("section",{className:"container",children:Object(a.jsxs)("div",{className:"columns features",children:[Object(a.jsx)("div",{className:"column is-4",children:Object(a.jsx)("div",{className:"card is-shady",children:Object(a.jsx)("div",{className:"card-content",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("h4",{children:"Content 1"}),Object(a.jsx)("p",{children:"Content 1"}),Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"/",children:"Learn more"})})]})})})}),Object(a.jsx)("div",{className:"column is-4",children:Object(a.jsx)("div",{className:"card is-shady",children:Object(a.jsx)("div",{className:"card-content",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("h4",{children:"Content 2"}),Object(a.jsx)("p",{children:"Content 2"}),Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"/",children:"Learn more"})})]})})})}),Object(a.jsx)("div",{className:"column is-4",children:Object(a.jsx)("div",{className:"card is-shady",children:Object(a.jsx)("div",{className:"card-content",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("h4",{children:"Content 3"}),Object(a.jsx)("p",{children:"Content 3"}),Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"/",children:"Learn more"})})]})})})})]})})}function N(){return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)(g,{}),Object(a.jsx)("div",{className:"box cta",children:Object(a.jsxs)("p",{className:"has-text-centered",children:[Object(a.jsx)("span",{className:"tag is-primary",children:"New"})," We can learn a lot about AWS."]})}),Object(a.jsx)(w,{})]})}var y=s(32),k=s(141),C=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={isEditMode:!1,updatedproductname:e.props.name,updatepassword:e.props.password,updateaddress:e.props.address},e.handleProductEdit=function(t){t.preventDefault(),e.setState({isEditMode:!0})},e.handleEditSave=function(t){t.preventDefault(),e.setState({isEditMode:!1}),e.props.handleUpdateProduct(e.props.id,e.state.updatedproductname,e.state.updatepassword,e.state.updateaddress)},e.onAddProductNameChange=function(t){return e.setState({updatedproductname:t.target.value})},e.onAddPasswordChange=function(t){return e.setState({updatepassword:t.target.value})},e.onAddAddressChange=function(t){return e.setState({updateaddress:t.target.value})},e}return Object(j.a)(s,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"tile is-child box notification is-success",children:[this.props.isAdmin&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("a",{href:"/",onClick:this.handleProductEdit,className:"product-edit-icon",children:Object(a.jsx)(k.a,{icon:"edit"})}),Object(a.jsx)("button",{onClick:function(t){return e.props.handleDeleteProduct(e.props.id,t)},className:"delete"})]}),this.state.isEditMode?Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"Edit product name"}),Object(a.jsx)("input",{className:"input is-medium",type:"text",placeholder:"Enter Username",value:this.state.updatedproductname,onChange:this.onAddProductNameChange}),Object(a.jsx)("p",{children:"Edit Password"}),Object(a.jsx)("input",{className:"input is-medium",type:"text",placeholder:"Enter Password",value:this.state.updatepassword,onChange:this.onAddPasswordChange}),Object(a.jsx)("p",{children:"Edit Address"}),Object(a.jsx)("input",{className:"input is-medium",type:"text",placeholder:"Enter Address",value:this.state.updateaddress,onChange:this.onAddAddressChange}),Object(a.jsxs)("p",{className:"product-id",children:["id: ",this.props.id]}),Object(a.jsx)("button",{type:"submit",className:"button is-info is-small",onClick:this.handleEditSave,children:"save"})]}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{className:"product-id",children:["id: ",this.props.id]}),Object(a.jsx)("p",{className:"product-title",children:this.props.name}),Object(a.jsx)("p",{className:"product-title",children:this.props.password}),Object(a.jsx)("p",{className:"product-title",children:this.props.address})]})]})}}]),s}(r.Component),S=s(31),A=s.n(S),P=s(38),E=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={newproduct:null,products:[]},e.fetchProducts=Object(d.a)(l.a.mark((function t(){var s,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.a.get("".concat(P.api.invokeUrl,"/users/"));case 3:s=t.sent,a=s.data,e.setState({products:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("An error has occurred: ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.handleUpdateProduct=function(){var t=Object(d.a)(l.a.mark((function t(s,a,r,n){var c,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c={user_id:s,email:a,password:r,address:n},console.log("**********************************************"),console.log(c),console.log("----------------------------------------------"),console.log(a),t.next=8,A.a.patch("".concat(P.api.invokeUrl,"/users/").concat(s),c);case 8:i=Object(y.a)(e.state.products.Users).find((function(e){return e.id===s})),o=Object(y.a)(e.state.products.Users).filter((function(e){return e.id!==s})),i.user_email=a,i.user_password=r,i.user_address=n,o.push(i),e.setState({products:o}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log("Error updating product: ".concat(t.t0));case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,s,a,r){return t.apply(this,arguments)}}(),e.componentDidMount=function(){e.fetchProducts()},e}return Object(j.a)(s,[{key:"render",value:function(){var e=this,t=this.state.products.Users;return console.log("--------------=================="),t&&console.log(t[0].user_email),console.log(typeof t),Object(a.jsx)(r.Fragment,{children:Object(a.jsx)("section",{className:"section",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{children:"List of Users :"}),Object(a.jsx)("p",{className:"subtitle is-5",children:"You can see the created users below :"}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"columns",children:Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{className:"tile is-ancestor",children:Object(a.jsx)("div",{className:"tile is-4 is-parent  is-vertical",children:t&&t.length>0?t.map((function(t){return Object(a.jsx)(C,{isAdmin:!0,handleUpdateProduct:e.handleUpdateProduct,id:t.user_id,name:t.user_email,password:t.user_password,address:t.user_address},t.user_id)})):Object(a.jsx)("div",{className:"tile notification is-warning",children:"No products available"})})})})})]})})})}}]),s}(r.Component),I=s(38),_=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={newproduct:{user_id:"",user_email:"",user_password:"",user_address:""},products:[]},e.handleAddProduct=function(){var t=Object(d.a)(l.a.mark((function t(s,a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,r={user_id:s,email:e.state.newproduct.user_email,password:e.state.newproduct.user_password,address:e.state.newproduct.user_address},t.next=5,A.a.post("".concat(I.api.invokeUrl,"/users/"),r);case 5:e.setState({products:[].concat(Object(y.a)(e.state.products.Users),[e.state.newproduct])}),e.setState({newproduct:{user_id:"",user_email:"",user_password:"",user_address:""}}),console.log("*********************************************"),console.log(e.state.products),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log("An error has occurred: ".concat(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,s){return t.apply(this,arguments)}}(),e.handleUpdateProduct=function(){var t=Object(d.a)(l.a.mark((function t(s,a,r,n){var c,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c={user_id:s,email:a,password:r,address:n},console.log("**********************************************"),console.log(c),console.log("----------------------------------------------"),console.log(a),t.next=8,A.a.patch("".concat(I.api.invokeUrl,"/users/").concat(s),c);case 8:i=Object(y.a)(e.state.products.Users).find((function(e){return e.id===s})),o=Object(y.a)(e.state.products.Users).filter((function(e){return e.id!==s})),i.user_email=a,i.user_password=r,i.user_address=n,o.push(i),e.setState({products:o}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log("Error updating product: ".concat(t.t0));case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,s,a,r){return t.apply(this,arguments)}}(),e.handleDeleteProduct=function(){var t=Object(d.a)(l.a.mark((function t(s,a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,A.a.delete("".concat(I.api.invokeUrl,"/users/").concat(s));case 4:r=Object(y.a)(e.state.products.Users).filter((function(e){return e.user_id!==s})),e.setState({products:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Unable to delete product: ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,s){return t.apply(this,arguments)}}(),e.fetchProducts=Object(d.a)(l.a.mark((function t(){var s,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.a.get("".concat(I.api.invokeUrl,"/users"));case 3:s=t.sent,a=s.data,e.setState({products:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("An error has occurred: ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.onAddProductNameChange=function(t){return e.setState({newproduct:Object(i.a)(Object(i.a)({},e.state.newproduct),{},{user_email:t.target.value})})},e.onAddAddressChange=function(t){return e.setState({newproduct:Object(i.a)(Object(i.a)({},e.state.newproduct),{},{user_address:t.target.value})})},e.onAddPasswordChange=function(t){return e.setState({newproduct:Object(i.a)(Object(i.a)({},e.state.newproduct),{},{user_password:t.target.value})})},e.componentDidMount=function(){e.fetchProducts()},e}return Object(j.a)(s,[{key:"render",value:function(){var e=this,t=this.state.products.Users;return Object(a.jsx)(r.Fragment,{children:Object(a.jsx)("section",{className:"section",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{children:"User Admin"}),Object(a.jsx)("p",{className:"subtitle is-5",children:"Add and remove Users using the form below:"}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"columns",children:[Object(a.jsx)("div",{className:"column is-one-third",children:Object(a.jsx)("form",{onSubmit:function(t){return e.handleAddProduct(e.state.newproduct.id,t)},children:Object(a.jsxs)("div",{className:"field has-addons",children:[Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{className:"input is-medium",type:"text",placeholder:"Enter username",value:this.state.newproduct.user_email,onChange:this.onAddProductNameChange})}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{className:"input is-medium",type:"text",placeholder:"Enter password",value:this.state.newproduct.user_password,onChange:this.onAddPasswordChange})}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{className:"input is-medium",type:"text",placeholder:"Enter address",value:this.state.newproduct.user_address,onChange:this.onAddAddressChange})}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("button",{type:"submit",className:"button is-primary is-medium",children:"Add product"})})]})})}),Object(a.jsx)("div",{className:"column is-two-thirds",children:Object(a.jsx)("div",{className:"tile is-ancestor",children:Object(a.jsx)("div",{className:"tile is-4 is-parent  is-vertical",children:t&&t.length>0?t.map((function(t){return Object(a.jsx)(C,{isAdmin:!0,handleUpdateProduct:e.handleUpdateProduct,handleDeleteProduct:e.handleDeleteProduct,password:t.user_password,address:t.user_address,name:t.user_email,id:t.user_id},t.user_id)})):Object(a.jsx)("div",{className:"tile notification is-warning",children:"No products available"})})})})]})]})})})}}]),s}(r.Component);var U=function(e){return e.formerrors&&(e.formerrors.blankfield||e.formerrors.passwordmatch)?Object(a.jsxs)("div",{className:"error container help is-danger",children:[Object(a.jsx)("div",{className:"row justify-content-center",children:e.formerrors.passwordmatch?"Password value does not match confirm password value":""}),Object(a.jsx)("div",{className:"row justify-content-center help is-danger",children:e.formerrors.blankfield?"All fields are required":""})]}):e.apierrors?Object(a.jsx)("div",{className:"error container help is-danger",children:Object(a.jsx)("div",{className:"row justify-content-center",children:e.apierrors})}):e.formerrors&&e.formerrors.cognito?Object(a.jsx)("div",{className:"error container help is-danger",children:Object(a.jsx)("div",{className:"row justify-content-center",children:e.formerrors.cognito.message})}):Object(a.jsx)("div",{})};var L=function(e,t){for(var s=document.getElementsByClassName("is-danger"),a=0;a<s.length;a++)s[a].classList.contains("error")||s[a].classList.remove("is-danger");return t.hasOwnProperty("username")&&""===t.username?(document.getElementById("username").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("firstname")&&""===t.firstname?(document.getElementById("firstname").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("lastname")&&""===t.lastname?(document.getElementById("lastname").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("email")&&""===t.email?(document.getElementById("email").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("verificationcode")&&""===t.verificationcode?(document.getElementById("verificationcode").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("password")&&""===t.password?(document.getElementById("password").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("oldpassword")&&""===t.oldpassword?(document.getElementById("oldpassword").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("newpassword")&&""===t.newpassword?(document.getElementById("newpassword").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("confirmpassword")&&""===t.confirmpassword?(document.getElementById("confirmpassword").classList.add("is-danger"),{blankfield:!0}):t.hasOwnProperty("password")&&t.hasOwnProperty("confirmpassword")&&t.password!==t.confirmpassword?(document.getElementById("password").classList.add("is-danger"),document.getElementById("confirmpassword").classList.add("is-danger"),{passwordmatch:!0}):t.hasOwnProperty("newpassword")&&t.hasOwnProperty("confirmpassword")&&t.newpassword!==t.confirmpassword?(document.getElementById("newpassword").classList.add("is-danger"),document.getElementById("confirmpassword").classList.add("is-danger"),{passwordmatch:!0}):void 0},B=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",errors:{cognito:null,blankfield:!1}},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1}})},e.handleSubmit=function(){var t=Object(d.a)(l.a.mark((function t(s){var a,r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),e.clearErrorState(),(a=L(s,e.state))&&e.setState({errors:Object(i.a)(Object(i.a)({},e.state.errors),a)}),t.prev=4,t.next=7,f.Auth.signIn(e.state.username,e.state.password);case 7:r=t.sent,console.log(r),e.props.auth.setAuthStatus(!0),e.props.auth.setUser(r),e.props.history.push("/"),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(4),n=null,n=t.t0.message?t.t0:{message:t.t0},e.setState({errors:Object(i.a)(Object(i.a)({},e.state.errors),{},{cognito:n})});case 19:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState({[t.target.id]:t.target.value}),document.getElementById(t.target.id).classList.remove("is-danger")},e}return Object(j.a)(s,[{key:"render",value:function(){return Object(a.jsx)("section",{className:"section auth",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{children:"Log in"}),Object(a.jsx)(U,{formerrors:this.state.errors}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("input",{className:"input",type:"text",id:"username","aria-describedby":"usernameHelp",placeholder:"Enter username or email",value:this.state.username,onChange:this.onInputChange})})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsxs)("p",{className:"control has-icons-left",children:[Object(a.jsx)("input",{className:"input",type:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.onInputChange}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-lock"})})]})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("a",{href:"/forgotpassword",children:"Forgot password?"})})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("button",{className:"button is-success",children:"Login"})})})]})]})})}}]),s}(r.Component),D=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={username:"",email:"",password:"",confirmpassword:"",errors:{cognito:null,blankfield:!1,passwordmatch:!1}},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1,passwordmatch:!1}})},e.handleSubmit=function(){var t=Object(d.a)(l.a.mark((function t(s){var a,r,n,c,o,d,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),e.clearErrorState(),(a=L(s,e.state))&&e.setState({errors:Object(i.a)(Object(i.a)({},e.state.errors),a)}),r=e.state,n=r.username,c=r.email,o=r.password,t.prev=5,t.next=8,f.Auth.signUp({username:n,password:o,attributes:{email:c}});case 8:d=t.sent,e.props.history.push("/welcome"),console.log(d),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(5),u=null,u=t.t0.message?t.t0:{message:t.t0},e.setState({errors:Object(i.a)(Object(i.a)({},e.state.errors),{},{cognito:u})});case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState({[t.target.id]:t.target.value}),document.getElementById(t.target.id).classList.remove("is-danger")},e}return Object(j.a)(s,[{key:"render",value:function(){return Object(a.jsx)("section",{className:"section auth",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{children:"Register"}),Object(a.jsx)(U,{formerrors:this.state.errors}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("input",{className:"input",type:"text",id:"username","aria-describedby":"userNameHelp",placeholder:"Enter username",value:this.state.username,onChange:this.onInputChange})})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsxs)("p",{className:"control has-icons-left has-icons-right",children:[Object(a.jsx)("input",{className:"input",type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.onInputChange}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-envelope"})})]})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsxs)("p",{className:"control has-icons-left",children:[Object(a.jsx)("input",{className:"input",type:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.onInputChange}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-lock"})})]})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsxs)("p",{className:"control has-icons-left",children:[Object(a.jsx)("input",{className:"input",type:"password",id:"confirmpassword",placeholder:"Confirm password",value:this.state.confirmpassword,onChange:this.onInputChange}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-lock"})})]})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("a",{href:"/forgotpassword",children:"Forgot password?"})})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("button",{className:"button is-success",children:"Register"})})})]})]})})}}]),s}(r.Component),H=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={email:"",errors:{cognito:null,blankfield:!1}},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1}})},e.forgotPasswordHandler=function(){var t=Object(d.a)(l.a.mark((function t(s){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),e.clearErrorState(),(a=L(s,e.state))&&e.setState({errors:Object(i.a)(Object(i.a)({},e.state.errors),a)}),t.prev=4,t.next=7,f.Auth.forgotPassword(e.state.email);case 7:e.props.history.push("/forgotpasswordverification"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState({[t.target.id]:t.target.value}),document.getElementById(t.target.id).classList.remove("is-danger")},e}return Object(j.a)(s,[{key:"render",value:function(){return Object(a.jsx)("section",{className:"section auth",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{children:"Forgot your password?"}),Object(a.jsx)("p",{children:"Please enter the email address associated with your account and we'll email you a password reset link."}),Object(a.jsx)(U,{formerrors:this.state.errors}),Object(a.jsxs)("form",{onSubmit:this.forgotPasswordHandler,children:[Object(a.jsx)("div",{className:"field",children:Object(a.jsxs)("p",{className:"control has-icons-left has-icons-right",children:[Object(a.jsx)("input",{type:"email",className:"input",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.onInputChange}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-envelope"})})]})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("a",{href:"/forgotpassword",children:"Forgot password?"})})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("button",{className:"button is-success",children:"Submit"})})})]})]})})}}]),s}(r.Component),F=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={verificationcode:"",email:"",newpassword:"",errors:{cognito:null,blankfield:!1}},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1}})},e.passwordVerificationHandler=function(){var t=Object(d.a)(l.a.mark((function t(s){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),e.clearErrorState(),(a=L(s,e.state))&&e.setState({errors:Object(i.a)(Object(i.a)({},e.state.errors),a)}),t.prev=4,t.next=7,f.Auth.forgotPasswordSubmit(e.state.email,e.state.verificationcode,e.state.newpassword);case 7:e.props.history.push("/changepasswordconfirmation"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState({[t.target.id]:t.target.value}),document.getElementById(t.target.id).classList.remove("is-danger")},e}return Object(j.a)(s,[{key:"render",value:function(){return Object(a.jsx)("section",{className:"section auth",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{children:"Set new password"}),Object(a.jsx)("p",{children:"Please enter the verification code sent to your email address below, your email address and a new password."}),Object(a.jsx)(U,{formerrors:this.state.errors}),Object(a.jsxs)("form",{onSubmit:this.passwordVerificationHandler,children:[Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("input",{type:"text",className:"input",id:"verificationcode","aria-describedby":"verificationCodeHelp",placeholder:"Enter verification code",value:this.state.verificationcode,onChange:this.onInputChange})})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsxs)("p",{className:"control has-icons-left",children:[Object(a.jsx)("input",{className:"input",type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.onInputChange}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-envelope"})})]})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsxs)("p",{className:"control has-icons-left",children:[Object(a.jsx)("input",{type:"password",className:"input",id:"newpassword",placeholder:"New password",value:this.state.newpassword,onChange:this.onInputChange}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-lock"})})]})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("button",{className:"button is-success",children:"Submit"})})})]})]})})}}]),s}(r.Component),M=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={oldpassword:"",newpassword:"",confirmpassword:"",errors:{cognito:null,blankfield:!1,passwordmatch:!1}},e.clearErrorState=function(){e.setState({errors:{cognito:null,blankfield:!1,passwordmatch:!1}})},e.handleSubmit=function(){var t=Object(d.a)(l.a.mark((function t(s){var a,r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),e.clearErrorState(),(a=L(s,e.state))&&e.setState({errors:Object(i.a)(Object(i.a)({},e.state.errors),a)}),t.prev=4,t.next=7,f.Auth.currentAuthenticatedUser();case 7:return r=t.sent,console.log(r),t.next=11,f.Auth.changePassword(r,e.state.oldpassword,e.state.newpassword);case 11:e.props.history.push("/changepasswordconfirmation"),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(4),n=null,n=t.t0.message?t.t0:{message:t.t0},e.setState({errors:Object(i.a)(Object(i.a)({},e.state.errors),{},{cognito:n})}),console.log(n);case 20:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState({[t.target.id]:t.target.value}),document.getElementById(t.target.id).classList.remove("is-danger")},e}return Object(j.a)(s,[{key:"render",value:function(){return Object(a.jsx)("section",{className:"section auth",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{children:"Change Password"}),Object(a.jsx)(U,{formerrors:this.state.errors}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("div",{className:"field",children:Object(a.jsxs)("p",{className:"control has-icons-left",children:[Object(a.jsx)("input",{className:"input",type:"password",id:"oldpassword",placeholder:"Old password",value:this.state.oldpassword,onChange:this.onInputChange}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-lock"})})]})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsxs)("p",{className:"control has-icons-left",children:[Object(a.jsx)("input",{className:"input",type:"password",id:"newpassword",placeholder:"New password",value:this.state.newpassword,onChange:this.onInputChange}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-lock"})})]})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsxs)("p",{className:"control has-icons-left",children:[Object(a.jsx)("input",{className:"input",type:"password",id:"confirmpassword",placeholder:"Confirm password",value:this.state.confirmpassword,onChange:this.onInputChange}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-lock"})})]})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("a",{href:"/forgotpassword",children:"Forgot password?"})})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("button",{className:"button is-success",children:"Change password"})})})]})]})})}}]),s}(r.Component),R=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"render",value:function(){return Object(a.jsx)("section",{className:"section auth",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{children:"Change Password"}),Object(a.jsx)("p",{children:"Your password has been successfully updated!"})]})})}}]),s}(r.Component);function W(){return Object(a.jsx)("section",{className:"section auth",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{children:"Welcome!"}),Object(a.jsx)("p",{children:"You have successfully registered a new account."}),Object(a.jsx)("p",{children:"We've sent you a email. Please click on the confirmation link to verify your account."})]})})}function G(){return Object(a.jsx)("footer",{className:"footer",children:Object(a.jsx)("div",{className:"content has-text-centered",children:Object(a.jsx)("p",{children:"Mentor 2020. The source code is licensed Mentor ship."})})})}var J=s(44),T=s(142);J.b.add(T.a);var V=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={isAuthenticated:!1,isAuthenticating:!0,user:null},e.setAuthStatus=function(t){e.setState({isAuthenticated:t})},e.setUser=function(t){e.setState({user:t})},e}return Object(j.a)(s,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Auth.currentSession();case 3:return t=e.sent,this.setAuthStatus(!0),console.log(t),e.next=8,f.Auth.currentAuthenticatedUser();case 8:s=e.sent,this.setUser(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),"No current user"!==e.t0&&console.log(e.t0);case 15:this.setState({isAuthenticating:!1});case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={isAuthenticated:this.state.isAuthenticated,user:this.state.user,setAuthStatus:this.setAuthStatus,setUser:this.setUser};return!this.state.isAuthenticating&&Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(m.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(v,{auth:e}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{exact:!0,path:"/",render:function(t){return Object(a.jsx)(N,Object(i.a)(Object(i.a)({},t),{},{auth:e}))}}),Object(a.jsx)(O.a,{exact:!0,path:"/products",render:function(t){return Object(a.jsx)(E,Object(i.a)(Object(i.a)({},t),{},{auth:e}))}}),Object(a.jsx)(O.a,{exact:!0,path:"/admin",render:function(t){return Object(a.jsx)(_,Object(i.a)(Object(i.a)({},t),{},{auth:e}))}}),Object(a.jsx)(O.a,{exact:!0,path:"/login",render:function(t){return Object(a.jsx)(B,Object(i.a)(Object(i.a)({},t),{},{auth:e}))}}),Object(a.jsx)(O.a,{exact:!0,path:"/register",render:function(t){return Object(a.jsx)(D,Object(i.a)(Object(i.a)({},t),{},{auth:e}))}}),Object(a.jsx)(O.a,{exact:!0,path:"/forgotpassword",render:function(t){return Object(a.jsx)(H,Object(i.a)(Object(i.a)({},t),{},{auth:e}))}}),Object(a.jsx)(O.a,{exact:!0,path:"/forgotpasswordverification",render:function(t){return Object(a.jsx)(F,Object(i.a)(Object(i.a)({},t),{},{auth:e}))}}),Object(a.jsx)(O.a,{exact:!0,path:"/changepassword",render:function(t){return Object(a.jsx)(M,Object(i.a)(Object(i.a)({},t),{},{auth:e}))}}),Object(a.jsx)(O.a,{exact:!0,path:"/changepasswordconfirmation",render:function(t){return Object(a.jsx)(R,Object(i.a)(Object(i.a)({},t),{},{auth:e}))}}),Object(a.jsx)(O.a,{exact:!0,path:"/welcome",render:function(t){return Object(a.jsx)(W,Object(i.a)(Object(i.a)({},t),{},{auth:e}))}})]}),Object(a.jsx)(G,{})]})})})}}]),s}(r.Component),Y=s(38);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));x.a.configure({Auth:{mandatorySignIn:!0,region:Y.cognito.REGION,userPoolId:Y.cognito.USER_POOL_ID,userPoolWebClientId:Y.cognito.APP_CLIENT_ID}}),c.a.render(Object(a.jsx)(V,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},58:function(e,t){},68:function(e,t){}},[[384,1,2]]]);
//# sourceMappingURL=main.c607f0f8.chunk.js.map